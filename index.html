<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>Persona generator</title>
    <meta name="robots" content="noindex,nofollow"/>
    <style>
        body { font-family: sans-serif; }
        ul { padding: 0; }
        li { margin: .25em; list-style: none; }
        h2 { margin-bottom: .1em; }
        h3 { margin: .1em 0; }
        .infos,
        .address,
        .country { display: block; }
    </style>
</head>
<body>
    <h1>Liste de persona (via <a href="https://github.com/paulgreg/chancejs/">chancejs</a>)</h1>
    <ul></ul>
    <template id="persona">
        <li>
            <h2 class="name"></h2>
            <h3 class="profession"></h3>
            <div class="infos">
                <span class="birthday"></span> - 
                <span class="phone"></span> -
                <span class="email"></span>
            </div>
            <div>
                <span class="address"></span>
                <span class="zip"></span>
                <span class="city"></span>
                <span class="country"></span>
            </div>
        </li>
    </template>
    <script src="./chance.js"></script>
    <script>
    const persona = document.querySelector('#persona').content
    const list = document.querySelector('ul')

    const keys = [
        { cl: 'name', fn: () => chance.name({ nationality: 'fr' })},
        { cl: 'birthday', fn: () => chance.birthday({string: true, american: false}) },
        { cl: 'profession', fn: () => `${chance.profession({ language: 'fr' })} chez ${chance.company({ language: 'fr' })}` },
        { cl: 'email', fn: () => `<${chance.email()}>` },
        { cl: 'phone', fn: () => `Tel: ${chance.phone({ country: 'fr' })}` },
        { cl: 'address', fn: () => chance.address() },
        { cl: 'city', fn: () => chance.city() },
        { cl: 'zip', fn: () => chance.zip() },
        { cl: 'country', fn: () => chance.country({ full: true }) },
    ]

    list.style.display = 'none'
    for(let i = 0; i < 10; i++) {
        const item = document.importNode(persona, true)
        keys.forEach(({ cl, fn }) => {
            item.querySelector(`.${cl}`).textContent = String(fn())
        })
        list.appendChild(item)
    }
    list.style.display = ''
    </script>
</body>
</html>